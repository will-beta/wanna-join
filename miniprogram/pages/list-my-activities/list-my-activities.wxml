<view wx:if="{{!userInfo}}">
  <login bind:getUserInfo="onGetUserInfo"></login>
</view>
<view wx:else>
  <scroll-view scroll-y="true" style="position:fixed; height:100%;">
    <block wx:if="{{myActivities.length>0}}">
      <mp-cells>
        <block wx:for="{{myActivities}}" wx:key="index" wx:for-item="activity">
          <navigator url="{{'/pages/show-a-activity/show-a-activity?_id='+activity._id}}">
            <mp-slideview buttons="{{slideButtons}}" bindbuttontap="onSlideButtonTap" data-index="{{index}}" buttons="{{slideButtons}}" bindbuttontap="slideButtonTap" data-index="{{index}}">
              <mp-cell>
                <view>
                  <view>
                    <mp-icon icon="text" size="{{20}}" style="margin-right:12rpx;"></mp-icon>
                    <text wx:if="{{activity.title}}" style="font-weight:bold; font-size:large;">{{activity.title}}</text>
                  </view>
                  <view>
                    <mp-icon icon="me" size="{{20}}" style="margin-right:12rpx;"></mp-icon>
                    <text wx:if="{{activity.userInfo.nickName}}">{{activity.userInfo.nickName}}</text>
                  </view>
                  <view>
                    <mp-icon icon="time" size="{{20}}" style="margin-right:12rpx;"></mp-icon>
                    <text wx:if="{{activity.startDateTime}}">{{activity.startDateTime}}</text>
                  </view>
                  <view>
                    <mp-icon icon="location" size="{{20}}" style="margin-right:12rpx;"></mp-icon>
                    <text wx:if="{{activity.location.name}}">{{activity.location.name}}</text>
                  </view>
                </view>
                <view slot="footer">{{activity.status}}</view>
              </mp-cell>
            </mp-slideview>
          </navigator>
        </block>
      </mp-cells>
    </block>
    <view wx:else style="color:lightgrey">无活动</view>
  </scroll-view>
  <view style="position:fixed; bottom:10%; right:5%;">
    <navigator url="/pages/add-a-activity/add-a-activity">
      <mp-icon type="field" icon="add2" color="#333" size="{{50}}">
      </mp-icon>
    </navigator>
  </view>
</view>