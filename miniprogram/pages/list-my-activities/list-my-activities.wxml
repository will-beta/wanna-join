<view wx:if="{{!userInfo}}">
  <login bind:getUserInfo="onGetUserInfo"></login>
</view>
<view wx:else>
  <view style="height:10%; display:flex; flex-direction:row; align-items:center;">
    <mp-searchbar style="width:100%;"></mp-searchbar>
    <navigator url="/pages/add-a-activity/add-a-activity" style="margin-right:20rpx;">
      <mp-icon type="field" icon="add" color="black" size="{{30}}"></mp-icon>
    </navigator>
  </view>
  <scroll-view scroll-y="true" style="height:90%;">
    <mp-cells>
      <mp-slideview wx:for="{{myActivities}}" wx:key="index" wx:for-item="activity" buttons="{{slideButtons}}" bindbuttontap="slideButtonTap" data-index="{{index}}" buttons="{{slideButtons}}" bindbuttontap="slideButtonTap" data-index="{{index}}">
        <mp-cell>
          <view>
            <view>
              <mp-icon icon="text" size="{{15}}" style="margin-right:12rpx;"></mp-icon>
              <text style="font-weight:bold; font-size:large;">{{activity.title}}</text>
            </view>
            <view>
              <mp-icon icon="me" size="{{15}}" style="margin-right:12rpx;"></mp-icon>
              <text>{{activity.publisher}}</text>
            </view>
            <view>
              <mp-icon icon="time" size="{{15}}" style="margin-right:12rpx;"></mp-icon>
              <text>{{activity.startTime}}</text>
            </view>
            <view>
              <mp-icon icon="location" size="{{15}}" style="margin-right:12rpx;"></mp-icon>
              <text>{{activity.location.name}}</text>
            </view>
          </view>
          <view slot="footer">{{activity.status}}</view>
        </mp-cell>
      </mp-slideview>
    </mp-cells>
  </scroll-view>
</view>